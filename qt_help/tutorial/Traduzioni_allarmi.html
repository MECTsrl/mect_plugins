
<html>
	<head>
	  <meta http-equiv="content-type" content="text/html; charset=windows-1252"/>
	   <title>Traduzione degli allarmi</title>
	   <style type="text/css">
		@page { size: 21.59cm 27.94cm; margin-right: 2cm; margin-top: 2.5cm; margin-bottom: 1.5cm }
		p { margin-bottom: 0.21cm; direction: ltr; color: #000000; orphans: 0; widows: 0 }
		p.western { font-family: "Arial", "Times New Roman", serif; font-size: 10pt; so-language: it-IT }
		h3.western { font-family: "Liberation Sans", "Arial", sans-serif; so-language: it-IT }
		a:link { color: #0000ff }
		a.cjk:visited { so-language: zh-CN }
	</style>
	</head>	
	<body>
	<h3 class="western">Traduzione degli allarmi</h3>
	<p class="western">Il commento degli allarmi non può essere visto/tradotto dal Qt Linguist perchè non fa parte di un elemento della grafica ma si trova all'interno del Crosstable Editor.</p>
	<p class="western">Tuttavia, è possibile fare una traduzione “manuale” degli allarmi, inserendo del codice nella pagexxx.cpp (pagina .cpp dove si effettua il cambio della lingua).</p>
	<p class="western">E' possibile vedere un esempio dove è stata utilizzata una QComboBox per il cambio della lingua. Vedere il progetto "Allarme_TPAC1007_04_AC" in C:\Qt485\MectApps\Examples.</p>
	<p class="western"><strong><u>Procedura</u></strong>:</p>
	<ul>
		<li/>
		<p class="western">Copiare la seguente funzione al fondo della pagexxx<strong>.cpp</strong>:</p>
		<pre class="western"><font color="#35682d"><strong>void</strong></font> setEventDescription(QString name, QString description)</pre>
		<pre class="western">{</pre>
		<pre class="western">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event_t * event = EventHash.find(name).value();</pre>
		<pre class="western">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color="#35682d">if</font></strong> (event) {</pre>
		<pre class="western">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strncpy(event->description, description.toLatin1().data(), DESCR_LEN);</pre>
		<pre class="western">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre>
		<pre class="western">}</pre>
		<li/>
		<p class="western">Nella relativa pagexxx<strong>.h</strong> copiare all'interno di "private slots":</p>
		<pre class="western"><font color="#35682d"><strong>void</strong></font> changeEvent(QEvent * event);</pre>
		<li/>
		<p class="western">Richiamare la funzione <strong>setEventDescription()</strong> inserendo la traduzione che si desidera.</p>
		<p class="western">Se si usa un ATCMbutton per il cambio della lingua, è necessario richiamare nella call back del bottone (Go to slot…) la funzione setEventDescription(Nome della variabile di allarme, Testo da visualizzare), vedere opzione "2" del capitolo &ldquo;<font color="#0000ff"><u><a class="western" href="Selezione_lingua.html">Selezionare la lingua dal dispositivo</a></u></font>&rdquo;.</p>
		<p class="western"><u>Ad esempio</u>: setEventDescription(<font color="#35682d">"Alarm_temp"</font>, <font color="#35682d">"Allarme temperature - Ingresso analogico 1"</font>);</p>
		<p class="western">Seguire quest'ultimo passo per tutti gli allarmi delle lingue.</p>
	</ul>	
	<br/>
	</body>
</html>