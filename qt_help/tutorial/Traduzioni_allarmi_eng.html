
<html>
	<head>
	  <meta http-equiv="content-type" content="text/html; charset=windows-1252"/>
	   <title>Alarms translation</title>
	   <style type="text/css">
		@page { size: 21.59cm 27.94cm; margin-right: 2cm; margin-top: 2.5cm; margin-bottom: 1.5cm }
		p { margin-bottom: 0.21cm; direction: ltr; color: #000000; orphans: 0; widows: 0 }
		p.western { font-family: "Arial", "Times New Roman", serif; font-size: 10pt; so-language: it-IT }
		h3.western { font-family: "Liberation Sans", "Arial", sans-serif; so-language: it-IT }
		a:link { color: #0000ff }
		a.cjk:visited { so-language: zh-CN }
	</style>
	</head>	
	<body>
	<h3 class="western">Alarms translation</h3>
	<p class="western">Alarm commentary cannot be seen/translated by Qt Linguist because it is not part of a graphic element but it is located within the Crosstable Editor.</p>
	<p class="western">However, you can do a "manual" translation of the alarms by entering code in the pagexxx.cpp (page .cpp where you make the language change).</p>
	<p class="western"><u>See the project "Alarm_translations" in C:\Qt485\MectApps\Examples.</u></p>
	<p class="western">ATTENTION: the alarms in the Crosstable Editor must be defined with ASCII characters.</p>
	<p class="western"><strong><u>Procedure</u></strong>:</p>
	<ul>
		<li/>
		<p class="western">Copy the following function to the bottom of pagexxx<strong>.cpp</strong>:</p>
		<pre class="western"><font color="#35682d"><strong>void</strong></font> setEventDescription(QString name, QString description)</pre>
		<pre class="western">{</pre>
		<pre class="western">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event_t * event = EventHash.find(name).value();</pre>
		<pre class="western">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color="#35682d">if</font></strong> (event) {</pre>
		<pre class="western">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strncpy(event->description, description.toLatin1().data(), DESCR_LEN);</pre>
		<pre class="western">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre>
		<pre class="western">}</pre>
		<li/>
		<p class="western">On its pagexxx<strong>.h</strong>, copy it into "private slots":</p>
		<pre class="western"><font color="#35682d"><strong>void</strong></font> changeEvent(QEvent * event);</pre>
		<li/>
		<p class="western">Invoke the <strong>setEventDescription()</strong> function by entering the translation you want.</p>
		<p class="western">If you were using an ATCMbutton for language change, you must invoke the function setEventDescription(Alarm variable name, Text to display) in the call back of the button (Go to slot...), see option "2" of the chapter &ldquo;<font color="#0000ff"><u><a class="western" href="Selezione_lingua_eng.html">Select the language from the device</a></u></font>&rdquo;.</p>
		<p class="western"><u>For example</u>: setEventDescription(<font color="#35682d">"Alarm_temp"</font>, <font color="#35682d">"Temperature Alert - Analog Input 1"</font>);</p>
		<p class="western">Follow this last step for all language alarms.</p>
	</ul>	
	<br/>
	</body>
</html>